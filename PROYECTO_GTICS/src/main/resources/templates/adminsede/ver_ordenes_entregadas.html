<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec = "http://www.thymeleaf.org/extras/spring-security">
    <head>
        <meta charset="UTF-8">
        <!--=============== REMIXICONS ===============-->
        <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">
        <!--=============== CSS ===============-->
        <!-- Font Awesome -->

        <script src="https://kit.fontawesome.com/a2dd6045c4.js" crossorigin="anonymous"></script>


        <link rel="stylesheet" th:href="@{/css/styles.css}">
        <link rel="stylesheet" th:href="@{/css/fonts.css}">
        <link rel="stylesheet" th:href="@{/css/topbar.css}">
        <link rel="stylesheet" th:href="@{/css/footer.css}">
        <link rel="stylesheet" th:href="@{/css/scrollbar.css}">
        <link rel="stylesheet" th:href="@{/css/paciente/paciente.css}">
        <link rel="stylesheet" th:href="@{/css/datatables.css}">
        <link rel="stylesheet" th:href="@{/css/boostrap-datatables.css}">
        <link rel="stylesheet" th:href="@{/css/adminsede/estilos.css}">
        <link rel="stylesheet" th:href="@{/css/farmacista/farmacista.css}">




        <!--=============== DataTable ===============-->
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css"/>
        <!--  Bootstrap-->
        <link rel="stylesheet" href="https://cdn.datatables.net/2.0.3/css/dataTables.dataTables.min.css"/>
        <!--==========================================-->


        <title>Órdenes de reposición entregadas</title>

        <style>
            body {
                padding-top: 80px;
            }
        </style>
    </head>

    <header class="header-topbar">
        <nav th:replace="~{fragments/navbar.html :: navbar( active = 'Inicio')}"></nav>
    </header>


    <body>

        <div class="container">
            <div style="padding-top: 20px; padding-bottom: 20px">
                <div class="main-title open-sans-bold"> Lista de órdenes entregadas </div>
                <div class="main-subtitle helvetica-medium"> Vista de órdenes de reposición entregadas</div>
            </div>

            <hr class="style-one">
        </div>
        <br/><br/>




        <div class="container">

            <table id="miTabla" class="table table-striped">
                <button id="limpiarFiltros" class="btn-p" style="font-size: 17px; padding: 12px 20px">Limpiar Filtros</button>

                <thead>
                    <tr style="background-color: #378fff">
                        <th style="text-align: center; color: #ffffff; font-weight: normal !important;">Número de orden</th>
                        <th style="text-align: center; color: #ffffff; font-weight: normal !important;">Fecha Inicio</th>
                        <th style="text-align: center; color: #ffffff; font-weight: normal !important;">Fecha Fin</th>
                        <th style="text-align: center; color: #ffffff; font-weight: normal !important;">Medicamentos solicitados</th>
                    </tr>
                </thead>


                <tbody>
                    <tr th:each="orden, iterador: ${listaOrdenesEntregadas}">
                        <td th:text="${orden.getIdReposicion()}"></td>
                        <td th:text="${orden.getFechaIni()}"></td>
                        <td th:text="${orden.getFechaFin()}"></td>
                        <td style="text-align: center; display: flex; flex-direction: row; justify-content: center; gap: 5px;">
                            <form th:action="@{'/adminsede/verDetallesOrdenEntregado'}" method="post">
                                <input type="hidden" name="idOrden" th:value="${orden.getIdReposicion()}">
                                <button type="submit" class="btn btn-sm btn-info" >
                                    <i class="fa-regular fa-eye"></i>
                                </button>
                            </form>
                        </td>
                    </tr>

                </tbody>
            </table>

            <br>
            <br>
            <br>
            <br>

        </div>

        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>



        <div >
            <footer id="sticky-footer" class="footer-distributed">
                <div class="footer-left">
                    <img class="logo" th:src="@{/media/logo_large_2.png}" alt="Logo" style="width: 400px; height: auto;">
                    <p class="footer-links">
                        <a href="">Usuarios</a> |
                        <a href="">Actividades</a> |
                        <a href="">Estadisticas</a> |
                        <a href="">Donaciones</a> |
                        <a href="">Perfil</a>
                    </p>
                    <p class="footer-company-name">Copyright © 2023 <strong>Pontificia Universidad Catolica del Perú</strong> Todos los derechos reservados</p>
                </div>

                <div class="footer-center">
                    <div>
                        <i class="fa fa-map-marker"></i>
                        <p><span>Av. Universitaria 1801, San Miguel, 15088</span> Lima, Perú</p>
                    </div>

                    <div>
                        <i class="fa fa-phone"></i>
                        <p>+51 982 876 098</p>
                    </div>

                    <div>
                        <i class="fa fa-envelope"></i>
                        <p><a href="mailto:sagar00001.co@gmail.com">Lorem ipsum dolor sit amet.</a></p>
                    </div>
                </div>

                <div class="footer-right">
                    <p class="footer-company-about">
                        <span>Lorem, ipsum dolor.</span>
                        La carrera de <strong>Ingeniería de las telecomunicaciones</strong> de la <strong>Pontificia Universidad Catolica del Perú</strong> diseñó una pagina WEB.
                    </p>
                    <div class="footer-icons">
                        <a href="https://www.facebook.com/profile.php?id=100009473024310&mibextid=LQQJ4d"><i class="fa fa-facebook"></i></a>
                        <a href="https://www.instagram.com/leo.leonar071/?igshid=OGQ5ZDc2ODk2ZA%3D%3Ds"><i class="fa fa-instagram"></i></a>
                        <a href="https://www.youtube.com/@pucp"><i class="fa fa-youtube"></i></a>
                    </div>
                </div>
            </footer>
        </div>




        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
        <script th:src="@{/js/topbar.js}"></script>
        <script>
            $(document).ready(function() {
                var table = $('#miTabla').DataTable({
                    "pageLength":5,
                    "lengthChange": false,
                    "language": {
                        "emptyTable": "No hay registros disponibles",
                        "zeroRecords": "No se encontraron registros coincidentes",
                        "infoEmpty": "Mostrando 0 a 0 de 0 entradas",
                        "search" : "Buscar:",
                        "paginate": {
                            "first": "Primero",
                            "last": "Último",
                            "next": "Siguiente",
                            "previous": "Anterior"
                        },
                        "info": "Mostrando de _START_ a _END_ de _TOTAL_ entradas",
                    },

                });

                $('#filtroEstado').on('change', function() {
                    var estado = $(this).val();
                    table.column(2).search(estado).draw();

                });

                $('#limpiarFiltros').on('click', function() {
                    $('#filtroEstado').val('');
                    table.search('').columns().search('').draw();
                });
            });


        </script>
        <!-- DataTable -->
        <script type="text/javascript" src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>
        <!------>

    </body>

</html>