<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div>

    <div id="messageArea" style="width: 700px; height: 400px; border:4px solid red"></div>


    <div>
        <label>Nombre de usuario:</label>
        <input type="text" id="username" placeholder="Introduce tu nombre">

    </div>

    <br>

    <div>
        <label>Mensaje:</label>
        <input type="text" id="messageInput" placeholder="Introduce tu mensaje">

    </div>

    <br>

    <div>

        <button onclick="sendMessage()">Enviar</button>
    </div>



</div>


<script th:inline="javascript">
    let socket = new WebSocket("ws://localhost:8080/chat");

    socket.onmessage = function (event) {
        let messageArea = document.getElementById("messageArea");
        messageArea.innerHTML += '<p>' + event.data + '</p>'
    }

    function sendMessage(){
        let username = document.getElementById("username");
        let messageInput = document.getElementById("messageInput");

        let fullMessage = username.value + ": " + messageInput.value;
        socket.send(fullMessage);
        messageInput.value = '';

    }




</script>



</body>
</html>